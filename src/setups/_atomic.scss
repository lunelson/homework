//        _                  _
//       | |                (_)
//   __ _| |_ ___  _ __ ___  _  ___
//  / _` | __/ _ \| '_ ` _ \| |/ __|
// | (_| | || (_) | | | | | | | (__
//  \__,_|\__\___/|_| |_| |_|_|\___|

@mixin homework-atomic-setup($modern: $homework-is-modern) {

  @each $m in join((null), map-keys($media)) {

    @include m($m) {

      $bp: m-suffix();

      // dimensions: auto
      .w-auto#{$bp} { width: auto; }
      .h-auto#{$bp} { height: auto; }
      .my-auto#{$bp}, .mt-auto#{$bp} { margin-top: auto; }
      .mx-auto#{$bp}, .mr-auto#{$bp} { margin-right: auto; }
      .my-auto#{$bp}, .mb-auto#{$bp} { margin-bottom: auto; }
      .mx-auto#{$bp}, .ml-auto#{$bp} { margin-left: auto; }

      // dimensions: zero
      .w-0#{$bp} { width: 0; }
      .h-0#{$bp} { height: 0; }
      .my-0#{$bp}, .mt-0#{$bp} { margin-top: 0 !important; }
      .mx-0#{$bp}, .mr-0#{$bp} { margin-right: 0 !important; }
      .my-0#{$bp}, .mb-0#{$bp} { margin-bottom: 0 !important; }
      .mx-0#{$bp}, .ml-0#{$bp} { margin-left: 0 !important; }
      .py-0#{$bp}, .pt-0#{$bp} { padding-top: 0 !important; }
      .px-0#{$bp}, .pr-0#{$bp} { padding-right: 0 !important; }
      .py-0#{$bp}, .pb-0#{$bp} { padding-bottom: 0 !important; }
      .px-0#{$bp}, .pl-0#{$bp} { padding-left: 0 !important; }

      // dimensions: 100%
      .w-100#{$bp} { width: 100%; }
      .h-100#{$bp} { height: 100%; }

    }
  }

  @if $modern {

    @each $m in join((null), map-keys($media)) {

      @include m($m) {

        $bp: m-suffix();

        @each $y, $mod in map-get($root, 'inner-y-mods') or map-get($root, 'inner-mods') or () {
          .py-#{$y}#{$bp}, .pt-#{$y}#{$bp} { padding-top: var(--inner-y-#{$y}); }
          .py-#{$y}#{$bp}, .pb-#{$y}#{$bp} { padding-bottom: var(--inner-y-#{$y}); }
          .my-#{$y}#{$bp}, .mt-#{$y}#{$bp} { margin-top: var(--inner-y-#{$y}); }
          .my-#{$y}#{$bp}, .mb-#{$y}#{$bp} { margin-bottom: var(--inner-y-#{$y}); }
          .my-neg-#{$y}#{$bp}, .mt-neg-#{$y}#{$bp} { margin-top: calc(-1 * var(--inner-y-#{$y})); }
          .my-neg-#{$y}#{$bp}, .mb-neg-#{$y}#{$bp} { margin-bottom: calc(-1 * var(--inner-y-#{$y})); }
        }

        @each $x, $mod in map-get($root, 'inner-x-mods') or map-get($root, 'inner-mods') or () {
          .px-#{$x}#{$bp}, .pr-#{$x}#{$bp} { padding-right: var(--inner-x-#{$x}); }
          .px-#{$x}#{$bp}, .pl-#{$x}#{$bp} { padding-left: var(--inner-x-#{$x}); }
          .mx-#{$x}#{$bp}, .mr-#{$x}#{$bp} { margin-right: var(--inner-x-#{$x}); }
          .mx-#{$x}#{$bp}, .ml-#{$x}#{$bp} { margin-left: var(--inner-x-#{$x}); }
          .mx-neg-#{$x}#{$bp}, .mr-neg-#{$x}#{$bp} { margin-right: calc(-1 * var(--inner-x-#{$x})); }
          .mx-neg-#{$x}#{$bp}, .ml-neg-#{$x}#{$bp} { margin-left: calc(-1 * var(--inner-x-#{$x})); }
        }
      }

    }
  } @else {

    $m-list: ();
    @each $m in join(null, map-keys($media)) {
      $m-list: append($m-list, $m);
      @include m($m) {

        $inner-y-mods: m-var('inner-y-mods') or m-var('inner-mods') or ();
        @each $y,$mod in $inner-y-mods {
          $inner-y: if(unitless($mod), m-var('inner-y') * $mod, $mod);
          #{m-suffixize('.py-#{$y}, .pt-#{$y}', $m-list...)} { padding-top: $inner-y; }
          #{m-suffixize('.py-#{$y}, .pb-#{$y}', $m-list...)} { padding-bottom: $inner-y; }
          #{m-suffixize('.my-#{$y}, .mt-#{$y}', $m-list...)} { margin-top: $inner-y; }
          #{m-suffixize('.my-#{$y}, .mb-#{$y}', $m-list...)} { margin-bottom: $inner-y; }
          #{m-suffixize('.my-neg-#{$y}, .mt-neg-#{$y}', $m-list...)} { margin-top: -1 * $inner-y; }
          #{m-suffixize('.my-neg-#{$y}, .mb-neg-#{$y}', $m-list...)} { margin-bottom: -1 * $inner-y; }
        }

        $inner-x-mods: m-var('inner-x-mods') or m-var('inner-mods') or ();
        @each $x,$mod in $inner-x-mods {
          $inner-x: if(unitless($mod), m-var('inner-x') * $mod, $mod);
          #{m-suffixize('.px-#{$x}, .pr-#{$x}', $m-list...)} { padding-right: $inner-x; }
          #{m-suffixize('.px-#{$x}, .pl-#{$x}', $m-list...)} { padding-left: $inner-x; }
          #{m-suffixize('.mx-#{$x}, .mr-#{$x}', $m-list...)} { margin-right: $inner-x; }
          #{m-suffixize('.mx-#{$x}, .ml-#{$x}', $m-list...)} { margin-left: $inner-x; }
          #{m-suffixize('.mx-neg-#{$x}, .mr-neg-#{$x}', $m-list...)} { margin-right: -1 * $inner-x; }
          #{m-suffixize('.mx-neg-#{$x}, .ml-neg-#{$x}', $m-list...)} { margin-left: -1 * $inner-x; }
        }

      }
    }

  }
}
